{
  "name": "@secretagent.sh/api",
  "description": "SecretAgent.sh api",
  "private": true,
  "scripts": {
    "dev": "dwrangler dev --local-protocol https --local --env local --https-key-path ../frontend/certificates/localhost-key.pem --https-cert-path ../frontend/certificates/localhost.pem",
    "deploy:production": "pnpm run --filter @secretagent.sh/frontend build && dmno run -- dwrangler deploy --env production",
    "db:generate": "drizzle-kit generate",
    "db:regenerate": "drizzle-kit drop && drizzle-kit generate",
    "db:nuke:local": "rm -rf .wrangler/state/v3/d1",
    "db:migrate:local": "dmno run -- dwrangler d1 migrations apply secret-agent-dev --local --env local",
    "db:reset:local": "pnpm run db:nuke:local && pnpm run db:migrate:local",
    "db:migrate:prod": "dmno run -- dwrangler d1 migrations apply secret-agent-prod --remote --env production",
    "db:migrate:preview": "dmno run -- dwrangler d1 migrations apply --env preview secret-agent-preview --remote --env preview",
    "db:studio:local": "LOCAL_DB_PATH=$(find .wrangler/state/v3/d1/miniflare-D1DatabaseObject -type f -name '*.sqlite' -print -quit) drizzle-kit studio",
    "db:studio:preview": "source .drizzle.env && DB_ID='yyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyyyy' drizzle-kit studio",
    "db:studio:prod": "source .drizzle.env && DB_ID='xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx' drizzle-kit studio"
  },
  "dependencies": {
    "@dmno/cloudflare-platform": "^0.0.3",
    "@dmno/encrypted-vault-plugin": "^0.0.10",
    "@hono/zod-validator": "^0.4.2",
    "@privy-io/server-auth": "^1.18.5",
    "dmno": "^0.0.37",
    "drizzle-orm": "^0.39.1",
    "ethers": "^6.13.5",
    "hono": "^4.6.20",
    "zod": "^3.24.1"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20250109.0",
    "drizzle-kit": "^0.30.4",
    "wrangler": "^3.101.0"
  }
}
